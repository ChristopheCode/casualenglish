<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Exercises</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="container">
    <button onclick="toggleMenu()" class="ham">
      <img src="./img/hamburger.svg" alt="Menu" />
    </button>

    <div class="words">
      <h1>Exercises</h1>

      <div class="exercise-card">
        <p class="exercise-tense" id="tenseLabel">(Past Simple)</p>

        <p class="exercise-sentence" id="sentence"></p>

        <p class="exercise-hint" id="hint"></p>

        <div class="exercise-choices" id="choices"></div>

        <p class="exercise-feedback" id="feedback"></p>

        <button class="exercise-next" id="nextExercise" type="button">Next</button>
      </div>

      <div class="footer">
        <ul>
          <li><a class="legal" href="./mention.html" target="_blank" rel="noopener">Legal Notice</a></li>
          <li><a class="legal" href="./cookies.html" target="_blank" rel="noopener">Cookie Policy</a></li>
          <li><a class="legal" href="./confidentialite.html" target="_blank" rel="noopener">Privacy Policy</a></li>
          <li><a class="legal" href="./condition.html" target="_blank" rel="noopener">General Terms and Conditions of Sale (GTCS)</a></li>
        </ul>
        <a href="./index.html">
          <img src="./img/logo.png" alt="Casual English" />
        </a>
      </div>
    </div>

    <button onclick="toggleDark()" class="btn-float dark-mode">
      <img src="./img/moon.svg" alt="Dark mode" />
    </button>

    <button onclick="toggleQues()" class="btn-float ques">
      <img src="./img/question.svg" alt="Help" />
    </button>

    <!-- menu -->
    <div class="menu">
      <a href="./index.html">Back to Main Page</a>
      <a href="./iregularverbsenglish.html">Irregular Verbs</a>
      <a href="./exercises.html">Exercises</a>
    </div>

    <!-- overlay -->
    <div class="menu-overlay" onclick="closeMenu()" aria-hidden="true"></div>

    <!-- help -->
    <div class="help">
      <p>
        1. Read the sentence and the tense.<br><br>
        2. Choose the correct form.<br><br>
        3. ✅ Correct / ❌ Wrong<br><br>
        4. Press Next.
      </p>
    </div>
  </div>

  <script src="./script.js"></script>

  <script>
    // ==========================================================
    // DATA: verbs + realistic sentences (3 tenses per verb)
    // ==========================================================
    const verbs = [
      
  { base: "be", past: "was", pp: "been", sentences: { base: "I want to ____ more confident.", past: "I ____ at home yesterday.", pp: "I have ____ very busy this week." } },
  { base: "beat", past: "beat", pp: "beaten", sentences: { base: "We often ____ our record in training.", past: "We ____ them last night.", pp: "They have ____ every team so far." } },
  { base: "become", past: "became", pp: "become", sentences: { base: "I want to ____ a designer.", past: "I ____ interested in English last year.", pp: "I have ____ more relaxed recently." } },
  { base: "begin", past: "began", pp: "begun", sentences: { base: "Classes ____ at 9 a.m.", past: "The lesson ____ late yesterday.", pp: "The meeting has ____ already." } },
  { base: "bend", past: "bent", pp: "bent", sentences: { base: "I ____ my knees when I stretch.", past: "I ____ the wire by mistake.", pp: "The frame has ____ over time." } },
  { base: "bet", past: "bet", pp: "bet", sentences: { base: "I never ____ money on games.", past: "I ____ €5 yesterday.", pp: "I have ____ on this match before." } },
  { base: "bite", past: "bit", pp: "bitten", sentences: { base: "Dogs sometimes ____ when they are scared.", past: "A mosquito ____ me last night.", pp: "I have ____ my tongue before." } },
  { base: "blow", past: "blew", pp: "blown", sentences: { base: "The wind ____ hard in winter.", past: "The storm ____ the door open.", pp: "The candle has ____ out." } },
  { base: "break", past: "broke", pp: "broken", sentences: { base: "I try not to ____ my phone.", past: "I ____ my glasses yesterday.", pp: "I have ____ the rule once." } },
  { base: "bring", past: "brought", pp: "brought", sentences: { base: "I always ____ my notebook.", past: "I ____ a gift yesterday.", pp: "They have ____ enough food." } },
  { base: "broadcast", past: "broadcast", pp: "broadcast", sentences: { base: "They ____ the news every evening.", past: "They ____ the interview yesterday.", pp: "They have ____ this show many times." } },
  { base: "build", past: "built", pp: "built", sentences: { base: "They ____ houses in this area.", past: "They ____ a small bridge last year.", pp: "They have ____ a new website." } },
  { base: "burst", past: "burst", pp: "burst", sentences: { base: "Balloons ____ if you touch a needle.", past: "The pipe ____ last night.", pp: "The bag has ____ open." } },
  { base: "buy", past: "bought", pp: "bought", sentences: { base: "I ____ bread every morning.", past: "I ____ a new jacket yesterday.", pp: "I have ____ too many snacks." } },
  { base: "catch", past: "caught", pp: "caught", sentences: { base: "I ____ the bus at 8.", past: "I ____ a cold last week.", pp: "I have ____ a lot of fish." } },
  { base: "choose", past: "chose", pp: "chosen", sentences: { base: "I usually ____ the simple option.", past: "I ____ the wrong one yesterday.", pp: "I have ____ a new plan." } },
  { base: "come", past: "came", pp: "come", sentences: { base: "I ____ home at 6 p.m.", past: "They ____ late yesterday.", pp: "They have ____ back already." } },
  { base: "cost", past: "cost", pp: "cost", sentences: { base: "This ticket ____ €10.", past: "The repair ____ a lot yesterday.", pp: "It has ____ me time and money." } },
  { base: "creep", past: "crept", pp: "crept", sentences: { base: "Cats ____ quietly at night.", past: "I ____ into the room silently.", pp: "The fog has ____ over the hills." } },
  { base: "cut", past: "cut", pp: "cut", sentences: { base: "I ____ vegetables for dinner.", past: "I ____ my finger yesterday.", pp: "I have ____ the paper in half." } },
  { base: "deal", past: "dealt", pp: "dealt", sentences: { base: "I ____ with emails every day.", past: "We ____ with the problem yesterday.", pp: "They have ____ with this before." } },
  { base: "dig", past: "dug", pp: "dug", sentences: { base: "I ____ in the garden on weekends.", past: "We ____ a hole yesterday.", pp: "They have ____ all day." } },
  { base: "do", past: "did", pp: "done", sentences: { base: "I ____ my homework after school.", past: "I ____ my best yesterday.", pp: "I have ____ the work already." } },
  { base: "draw", past: "drew", pp: "drawn", sentences: { base: "I ____ pictures for fun.", past: "I ____ a map for you yesterday.", pp: "I have ____ this many times." } },
  { base: "drink", past: "drank", pp: "drunk", sentences: { base: "I ____ water every day.", past: "I ____ coffee this morning.", pp: "I have ____ enough today." } },
  { base: "drive", past: "drove", pp: "driven", sentences: { base: "I ____ to work every day.", past: "I ____ to Lyon yesterday.", pp: "I have ____ all night." } },
  { base: "eat", past: "ate", pp: "eaten", sentences: { base: "I ____ breakfast at 7.", past: "We ____ pizza yesterday.", pp: "I have ____ too much today." } },
  { base: "fall", past: "fell", pp: "fallen", sentences: { base: "I sometimes ____ asleep early.", past: "I ____ down the stairs yesterday.", pp: "The leaves have ____ already." } },
  { base: "feed", past: "fed", pp: "fed", sentences: { base: "I ____ my cat every morning.", past: "I ____ the dog yesterday.", pp: "I have ____ them all week." } },
  { base: "feel", past: "felt", pp: "felt", sentences: { base: "I ____ better today.", past: "I ____ sick yesterday.", pp: "I have ____ nervous all day." } },
  { base: "fight", past: "fought", pp: "fought", sentences: { base: "They ____ for their rights.", past: "They ____ last night.", pp: "They have ____ many battles." } },
  { base: "find", past: "found", pp: "found", sentences: { base: "I ____ this app useful.", past: "I ____ my keys yesterday.", pp: "I have ____ the answer." } },
  { base: "flee", past: "fled", pp: "fled", sentences: { base: "People ____ when there is danger.", past: "They ____ the city yesterday.", pp: "They have ____ the war." } },
  { base: "fly", past: "flew", pp: "flown", sentences: { base: "I ____ to London once a year.", past: "I ____ to Madrid last month.", pp: "I have ____ many times." } },
  { base: "forbid", past: "forbade", pp: "forbidden", sentences: { base: "They ____ smoking here.", past: "The teacher ____ phones in class yesterday.", pp: "It has ____ for years." } },
  { base: "forget", past: "forgot", pp: "forgotten", sentences: { base: "I sometimes ____ names.", past: "I ____ my password yesterday.", pp: "I have ____ my keys again." } },
  { base: "forgive", past: "forgave", pp: "forgiven", sentences: { base: "I try to ____ people.", past: "I ____ him yesterday.", pp: "I have ____ you." } },
  { base: "freeze", past: "froze", pp: "frozen", sentences: { base: "Water ____ at 0°C.", past: "The lake ____ last night.", pp: "My hands have ____ outside." } },
  { base: "get", past: "got", pp: "gotten", sentences: { base: "I ____ up early.", past: "I ____ a message yesterday.", pp: "I have ____ better at English." } },
  { base: "give", past: "gave", pp: "given", sentences: { base: "I ____ my friend a gift.", past: "I ____ you the link yesterday.", pp: "I have ____ you my answer." } },
  { base: "go", past: "went", pp: "gone", sentences: { base: "I ____ to school by bus.", past: "We ____ to Paris yesterday.", pp: "They have ____ home already." } },
  { base: "grow", past: "grew", pp: "grown", sentences: { base: "Plants ____ fast in spring.", past: "I ____ taller when I was a teen.", pp: "The company has ____ a lot." } },
  { base: "hang", past: "hung", pp: "hung", sentences: { base: "I ____ my coat near the door.", past: "I ____ the picture yesterday.", pp: "I have ____ the lights already." } },
  { base: "have", past: "had", pp: "had", sentences: { base: "I ____ a lot of work today.", past: "I ____ a great time yesterday.", pp: "I have ____ enough practice." } },
  { base: "hear", past: "heard", pp: "heard", sentences: { base: "I ____ music from my room.", past: "I ____ a strange noise yesterday.", pp: "I have ____ this song before." } },
  { base: "hide", past: "hid", pp: "hidden", sentences: { base: "I ____ my wallet in a safe place.", past: "I ____ the gift yesterday.", pp: "I have ____ it somewhere." } },
  { base: "hit", past: "hit", pp: "hit", sentences: { base: "I never ____ people.", past: "The ball ____ the window yesterday.", pp: "The storm has ____ the coast." } },
  { base: "hold", past: "held", pp: "held", sentences: { base: "I ____ the door for you.", past: "I ____ my breath yesterday.", pp: "They have ____ the meeting already." } },
  { base: "hurt", past: "hurt", pp: "hurt", sentences: { base: "My back ____ sometimes.", past: "I ____ my knee yesterday.", pp: "I have ____ my hand." } },
  { base: "keep", past: "kept", pp: "kept", sentences: { base: "I ____ my promises.", past: "I ____ the ticket yesterday.", pp: "I have ____ it for years." } },
  { base: "kneel", past: "knelt", pp: "knelt", sentences: { base: "I ____ to tie my shoes.", past: "I ____ in the church yesterday.", pp: "They have ____ in front of the statue." } },
  { base: "know", past: "knew", pp: "known", sentences: { base: "I ____ the answer.", past: "I ____ her in college.", pp: "I have ____ him for years." } },
  { base: "lay", past: "laid", pp: "laid", sentences: { base: "I ____ the book on the table.", past: "I ____ the keys here yesterday.", pp: "I have ____ everything out." } },
  { base: "lead", past: "led", pp: "led", sentences: { base: "I ____ the team on this project.", past: "I ____ the group yesterday.", pp: "I have ____ many projects." } },
  { base: "learn", past: "learnt", pp: "learnt", sentences: { base: "I ____ English every day.", past: "I ____ a new word yesterday.", pp: "I have ____ a lot this year." } },
  { base: "leave", past: "left", pp: "left", sentences: { base: "I ____ home at 8.", past: "I ____ early yesterday.", pp: "I have ____ my bag at home." } },
  { base: "lend", past: "lent", pp: "lent", sentences: { base: "I never ____ money.", past: "I ____ €10 to a friend yesterday.", pp: "I have ____ my book to a friend." } },
  { base: "let", past: "let", pp: "let", sentences: { base: "I ____ my friends use my phone.", past: "I ____ him go yesterday.", pp: "I have ____ it happen." } },
  { base: "lie", past: "lay", pp: "lain", sentences: { base: "I ____ down after lunch.", past: "I ____ down for an hour yesterday.", pp: "I have ____ in bed all morning." } },
  { base: "light", past: "lit", pp: "lit", sentences: { base: "I ____ a candle at night.", past: "I ____ the fire yesterday.", pp: "I have ____ the candles already." } },
  { base: "lose", past: "lost", pp: "lost", sentences: { base: "I sometimes ____ my keys.", past: "I ____ my wallet yesterday.", pp: "I have ____ my phone again." } },
  { base: "make", past: "made", pp: "made", sentences: { base: "I ____ coffee every morning.", past: "I ____ a cake yesterday.", pp: "I have ____ a big mistake." } },
  { base: "mean", past: "meant", pp: "meant", sentences: { base: "I ____ what I say.", past: "I ____ it as a joke yesterday.", pp: "I have ____ to call you." } },
  { base: "meet", past: "met", pp: "met", sentences: { base: "I ____ my friends on weekends.", past: "I ____ him yesterday.", pp: "I have ____ her before." } },
  { base: "pay", past: "paid", pp: "paid", sentences: { base: "I ____ by card.", past: "I ____ the bill yesterday.", pp: "I have ____ for everything." } },
  { base: "put", past: "put", pp: "put", sentences: { base: "I ____ my phone in my pocket.", past: "I ____ the box on the table yesterday.", pp: "I have ____ it away." } },
  { base: "read", past: "read", pp: "read", sentences: { base: "I ____ a book every week.", past: "I ____ this article yesterday.", pp: "I have ____ it already." } },
  { base: "ride", past: "rode", pp: "ridden", sentences: { base: "I ____ my bike to work.", past: "I ____ a horse once.", pp: "I have ____ this train many times." } },
  { base: "ring", past: "rang", pp: "rung", sentences: { base: "I ____ the bell.", past: "I ____ the doorbell yesterday.", pp: "The phone has ____ three times." } },
  { base: "rise", past: "rose", pp: "risen", sentences: { base: "Prices ____ every year.", past: "The sun ____ early yesterday.", pp: "The temperature has ____ today." } },
  { base: "run", past: "ran", pp: "run", sentences: { base: "I ____ 5 km every week.", past: "I ____ to catch the bus yesterday.", pp: "I have ____ out of time." } },
  { base: "say", past: "said", pp: "said", sentences: { base: "I always ____ hello.", past: "I ____ sorry yesterday.", pp: "I have ____ it many times." } },
  { base: "see", past: "saw", pp: "seen", sentences: { base: "I ____ my friends often.", past: "I ____ a great movie yesterday.", pp: "I have ____ this place before." } },
  { base: "seek", past: "sought", pp: "sought", sentences: { base: "I ____ help when I need it.", past: "They ____ a solution yesterday.", pp: "They have ____ advice." } },
  { base: "sell", past: "sold", pp: "sold", sentences: { base: "They ____ books online.", past: "They ____ their car yesterday.", pp: "They have ____ everything." } },
  { base: "send", past: "sent", pp: "sent", sentences: { base: "I ____ messages every day.", past: "I ____ an email yesterday.", pp: "I have ____ the file already." } },
  { base: "set", past: "set", pp: "set", sentences: { base: "I ____ an alarm at 7.", past: "I ____ the table yesterday.", pp: "I have ____ the rules." } },
  { base: "shake", past: "shook", pp: "shaken", sentences: { base: "I ____ hands when I meet someone.", past: "I ____ the bottle yesterday.", pp: "I have ____ the box too hard." } },
  { base: "sew", past: "sewed", pp: "sewn", sentences: { base: "I ____ buttons on my shirt.", past: "I ____ it yesterday.", pp: "I have ____ a new dress." } },
  { base: "shine", past: "shone", pp: "shone", sentences: { base: "The sun ____ in summer.", past: "The sun ____ all day yesterday.", pp: "The light has ____ through the window." } },
  { base: "shoot", past: "shot", pp: "shot", sentences: { base: "I ____ photos with my phone.", past: "I ____ a picture yesterday.", pp: "They have ____ many scenes." } },
  { base: "show", past: "showed", pp: "shown", sentences: { base: "I ____ my work to my teacher.", past: "I ____ him the way yesterday.", pp: "I have ____ you the answer." } },
  { base: "shrink", past: "shrank", pp: "shrunk", sentences: { base: "Clothes sometimes ____ in the wash.", past: "My sweater ____ yesterday.", pp: "It has ____ after washing." } },
  { base: "shut", past: "shut", pp: "shut", sentences: { base: "I always ____ the door.", past: "I ____ the window yesterday.", pp: "I have ____ everything down." } },
  { base: "sing", past: "sang", pp: "sung", sentences: { base: "I ____ in the shower.", past: "We ____ a song yesterday.", pp: "They have ____ this song before." } },
  { base: "sink", past: "sank", pp: "sunk", sentences: { base: "Big ships rarely ____.", past: "The boat ____ quickly yesterday.", pp: "The ship has ____ near the coast." } },
  { base: "sit", past: "sat", pp: "sat", sentences: { base: "I ____ at my desk.", past: "I ____ next to him yesterday.", pp: "I have ____ here for hours." } },
  { base: "sleep", past: "slept", pp: "slept", sentences: { base: "I ____ eight hours.", past: "I ____ badly last night.", pp: "I have ____ enough today." } },
  { base: "slide", past: "slid", pp: "slid", sentences: { base: "I ____ on the ice in winter.", past: "I ____ on the floor yesterday.", pp: "The box has ____ under the bed." } },
  { base: "speak", past: "spoke", pp: "spoken", sentences: { base: "I ____ English at work.", past: "I ____ to him yesterday.", pp: "I have ____ to the manager." } },
  { base: "spend", past: "spent", pp: "spent", sentences: { base: "I ____ time with my family.", past: "I ____ €20 yesterday.", pp: "I have ____ too much money." } },
  { base: "spit", past: "spat", pp: "spat", sentences: { base: "I never ____ on the street.", past: "I ____ it out yesterday.", pp: "I have ____ it out before." } },
  { base: "split", past: "split", pp: "split", sentences: { base: "I ____ the bill with my friend.", past: "We ____ the pizza yesterday.", pp: "They have ____ the work." } },
  { base: "spread", past: "spread", pp: "spread", sentences: { base: "I ____ butter on bread.", past: "I ____ the news yesterday.", pp: "The rumor has ____ fast." } },
  { base: "spring", past: "sprang", pp: "sprung", sentences: { base: "I ____ out of bed in the morning.", past: "The cat ____ onto the table yesterday.", pp: "A new idea has ____ to mind." } },
  { base: "stand", past: "stood", pp: "stood", sentences: { base: "I ____ in line every morning.", past: "I ____ near the door yesterday.", pp: "I have ____ here for 10 minutes." } },
  { base: "steal", past: "stole", pp: "stolen", sentences: { base: "Some people ____ bikes.", past: "Someone ____ my phone yesterday.", pp: "My wallet has been ____." } },
  { base: "stick", past: "stuck", pp: "stuck", sentences: { base: "I ____ a note on the fridge.", past: "I ____ the label on the box yesterday.", pp: "The door has ____ again." } },
  { base: "sting", past: "stung", pp: "stung", sentences: { base: "Bees ____ when they feel threatened.", past: "A bee ____ me yesterday.", pp: "I have ____ my hand on a nettle." } },
  { base: "stink", past: "stank", pp: "stunk", sentences: { base: "Trash ____ in summer.", past: "The room ____ yesterday.", pp: "The fish has ____ all day." } },
  { base: "strike", past: "struck", pp: "struck", sentences: { base: "Lightning can ____ at any time.", past: "Lightning ____ the tree yesterday.", pp: "A good idea has ____ me." } },
  { base: "swear", past: "swore", pp: "sworn", sentences: { base: "I never ____ in front of kids.", past: "I ____ yesterday.", pp: "I have ____ to tell the truth." } },
  { base: "sweep", past: "swept", pp: "swept", sentences: { base: "I ____ the floor on Saturdays.", past: "I ____ the kitchen yesterday.", pp: "I have ____ the whole house." } },
  { base: "swim", past: "swam", pp: "swum", sentences: { base: "I ____ every weekend.", past: "I ____ in the sea yesterday.", pp: "I have ____ 1,000 meters." } },
  { base: "swing", past: "swung", pp: "swung", sentences: { base: "I ____ on the playground.", past: "The door ____ open yesterday.", pp: "The pendulum has ____ for hours." } },
  { base: "take", past: "took", pp: "taken", sentences: { base: "I ____ the bus to work.", past: "I ____ a photo yesterday.", pp: "I have ____ notes in class." } },
  { base: "teach", past: "taught", pp: "taught", sentences: { base: "I ____ English online.", past: "I ____ him yesterday.", pp: "I have ____ for two years." } },
  { base: "tear", past: "tore", pp: "torn", sentences: { base: "I sometimes ____ paper by hand.", past: "I ____ my shirt yesterday.", pp: "My jeans have ____ again." } },
  { base: "tell", past: "told", pp: "told", sentences: { base: "I ____ the truth.", past: "I ____ you yesterday.", pp: "I have ____ you many times." } },
  { base: "think", past: "thought", pp: "thought", sentences: { base: "I ____ about my future.", past: "I ____ it was easy yesterday.", pp: "I have ____ about it a lot." } },
  { base: "throw", past: "threw", pp: "thrown", sentences: { base: "I ____ the ball to you.", past: "I ____ it away yesterday.", pp: "I have ____ the trash out." } },
  { base: "understand", past: "understood", pp: "understood", sentences: { base: "I ____ the lesson now.", past: "I ____ you yesterday.", pp: "I have ____ everything." } },
  { base: "wake", past: "woke", pp: "woken", sentences: { base: "I ____ up at 7.", past: "I ____ up late yesterday.", pp: "I have ____ up early all week." } },
  { base: "wear", past: "wore", pp: "worn", sentences: { base: "I ____ a jacket in winter.", past: "I ____ my new shoes yesterday.", pp: "I have ____ this many times." } },
  { base: "weep", past: "wept", pp: "wept", sentences: { base: "I sometimes ____ during sad movies.", past: "I ____ yesterday.", pp: "I have ____ a lot lately." } },
  { base: "win", past: "won", pp: "won", sentences: { base: "I usually ____ when I practice.", past: "We ____ the match yesterday.", pp: "They have ____ three times." } },
  { base: "write", past: "wrote", pp: "written", sentences: { base: "I ____ emails every day.", past: "I ____ a letter yesterday.", pp: "I have ____ a new story." } },


      
    ];

    // Random tense each time
    const templates = [
      { label: "Present Simple", form: "base" },
      { label: "Past Simple", form: "past" },
      { label: "Present Perfect", form: "pp" }
    ];

    // ---------- UI ----------
    const tenseLabel = document.getElementById("tenseLabel");
    const sentenceEl = document.getElementById("sentence");
    const hintEl = document.getElementById("hint");
    const choicesEl = document.getElementById("choices");
    const feedbackEl = document.getElementById("feedback");
    const nextBtn = document.getElementById("nextExercise");

    let locked = false;

    // To avoid repeating the exact same exercise twice in a row
    let lastKey = null;
    let currentV = null;
    let currentT = null;

    function shuffle(arr) {
      return arr
        .map(v => ({ v, s: Math.random() }))
        .sort((a, b) => a.s - b.s)
        .map(x => x.v);
    }

    function correctAnswer(v, t) {
      if (t.form === "base") return v.base;
      if (t.form === "past") return v.past;
      return v.pp;
    }

    function renderExercise() {
      locked = false;
      feedbackEl.textContent = "";
      feedbackEl.className = "exercise-feedback";

      // pick random verb + random tense
      let v, t, key;
      do {
        v = verbs[Math.floor(Math.random() * verbs.length)];
        t = templates[Math.floor(Math.random() * templates.length)];
        key = `${v.base}-${t.form}`;
      } while (key === lastKey && verbs.length > 1);

      lastKey = key;
      currentV = v;
      currentT = t;

      tenseLabel.textContent = `(${t.label})`;
      sentenceEl.textContent = v.sentences[t.form];
      hintEl.innerHTML = `Verb: <strong>${v.base}</strong>`;

      const options = shuffle([v.base, v.past, v.pp]);
      choicesEl.innerHTML = "";

      options.forEach(opt => {
        const btn = document.createElement("button");
        btn.type = "button";
        btn.className = "exercise-choice";
        btn.textContent = opt;
        btn.addEventListener("click", () => onPick(opt, btn, v, t));
        choicesEl.appendChild(btn);
      });
    }

    function onPick(value, btn, v, t) {
      if (locked) return;
      locked = true;

      const ans = correctAnswer(v, t);

      // disable all
      [...choicesEl.querySelectorAll("button")].forEach(b => b.disabled = true);

      if (value === ans) {
        btn.classList.add("correct");
        feedbackEl.textContent = "✅ Correct";
        feedbackEl.classList.add("ok");
      } else {
        btn.classList.add("wrong");
        feedbackEl.textContent = "❌ Wrong";
        feedbackEl.classList.add("bad");

        // highlight correct one
        [...choicesEl.querySelectorAll("button")].forEach(b => {
          if (b.textContent === ans) b.classList.add("correct");
        });
      }
    }

    nextBtn.addEventListener("click", () => {
      renderExercise();
    });

    document.addEventListener("DOMContentLoaded", renderExercise);
  </script>
</body>
</html>


